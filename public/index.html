<!doctype html>
<html ng-app="citizenos" ng-controller="AppCtrl">
<head>
    <meta charset="UTF-8">
    <title>CitizenOS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <base href="/">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/nav.css">
    <link rel="stylesheet" href="styles/content.css">
    <link rel="stylesheet" href="styles/icons.css">
    <link rel="stylesheet" href="styles/no_topics.css">
    <link rel="stylesheet" href="styles/lightbox.css">
    <link rel="icon" href="imgs/favicon.ico">
    <script src="js/citizenos-fe.bundle.js"></script>
</head>

<!-- LIVE RELOAD CODE -->
<script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>
<body ng-class="app.showNav || $root.lightbox ? 'body_fixed' : 'body_not_fixed'" ng-controller="SearchCtrl" resize>

<!-- LIGHTBOX SKELETON -->
<div id="root_lightbox" ng-if="$root.lightbox" ng-controller="lightbox">
    <div id="lighbox">
        <div id="lightbox_wrap">

            <div id="lightbox_header">

                <div id="lightbox_header_text">
                    <span ng-if="$root.loginLightbox">Log in / Register</span>
                    <span ng-if="$root.registerLightbox">Register</span>
                </div>

                <div id="lightbox_close" ng-click="closeAll()">
                    <div class="table_cell">
                        <div class="sprite sprite-btn-popup-close2x">
                        </div>
                    </div>
                </div>

            </div>

            <div id="lightbox_content">
                <div ng-if="$root.loginLightbox" ng-include="'views/default/login.html'"></div>
                <div ng-if="$root.registerLightbox" ng-include="'views/default/register.html'"></div>
            </div>

        </div>
    </div>

    <div id="close_lightbox" ng-click="closeAll()">
    </div>

</div>


<!-- MOBILE HEADER NAV -->
<div id="mobile_header" ng-if="wWidth <= 1024">

    <div ng-include="'views/default/nav_mobile.html'"></div>

</div>

<!-- NAV -->
<nav ng-class="app.showNav ? 'nav_is_open' : ''" ng-click="app.showSearchResults = false" ng-swipe-right="app.showNav = false">

    <div ng-include="'views/default/nav.html'"></div>

</nav>


<!-- CONTENT -->

<div id="content_root" ng-class="app.showNav ? 'navOpen' : ''">

    <!-- SEARCH BAR-->

    <div id="search_bar" ng-if="wWidth > 1024">
        <div id="search_icon">
            <div class="table_cell">
                <div class="sprite sprite-x3-icon-topbar-earch2x"></div>
            </div>
        </div>

        <div id="close_search_icon" ng-click="app.showSearchResults = false" ng-style="{'display': app.showSearchResults ? 'relative' : 'none'}">
            <div class="table_cell">
                <div class="sprite sprite-icon-closemenu-b-2x"></div>
            </div>
        </div>

        <input ng-model="form.searchInput" ng-focus="checkLAndO()" placeholder="Search topics, users, groupsâ€¦">

    </div>

    <!-- CONTENT WRAP -->

    <div id="content_wrap">


        <div id="close_mobile_menu" ng-if="app.showNav" ng-swipe-right="app.showNav = false" ng-click="app.showNav = false"
             ng-style="{'background' : app.showNav ? 'rgba(0,0,0,.3)' : 'rgba(0,0,0,0)' }"></div>


        <div id="close_mobile_menu" ng-if="app.showNav" ng-swipe-right="app.showNav = false" ng-click="app.showNav = false"
             ng-style="{'background' : app.showNav ? 'rgba(0,0,0,.3)' : 'rgba(0,0,0,0)' }"></div>


        <div id="content">
            <div id="content_cell">

                <!-- SEARCH AREA  -->
                <div id="search_area" ng-style="{'height' : app.showSearchResults ? '100%' : '0' }">

                    <div ng-include="'views/default/search.html'"></div>

                </div>

                <!-- CLOSE SEARCH AREA -->
                <div ng-click="app.showSearchResults = false" id="search_area_close" ng-style="{'display' : app.showSearchResults ? 'block' : 'none' }">
                </div>

                <!-- ROUTES CONTENT -->
                <div class="table">
                    <div class="v_align_cell">
                        <div ng-view></div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

</body>
</html>
