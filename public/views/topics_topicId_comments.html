<div class="arguments_container" ng-controller="TopicCommentCtrl">
    <div class="arguments_wrap">
        <div class="arguments_header">
            <div class="number_of_arguments" translate="VIEWS.TOPICS_TOPICID.TAB_ARGUMENTS_HEADING" translate-values="{count: topicComments.rows.length}">0 arguments</div>
            <div class="arguments_data">
                <div class="data_left">
                    <span class="data_item" translate="VIEWS.TOPICS_TOPICID.LBL_ARGUMENTS_COUNT_PRO" translate-values="{countPro:topicComments.count.pro}">pro: 0</span>
                    <span class="data_item" translate="VIEWS.TOPICS_TOPICID.LBL_ARGUMENTS_COUNT_CON" translate-values="{countCon:topicComments.count.con}">con: 0</span>
                </div>
                <div class="data_right">
                    <div cos-dropdown class="classic_dropdown borderless_dropdown">

                        <div class="dropdown_selection">
                            <div class="dropdown_text data_item">
                                {{'VIEWS.TOPICS_TOPICID.TXT_COMMENT_ORDER_BY_' + topicComments.orderBy | uppercase | translate}}
                            </div>

                            <div class="arrow_holder">
                                <div class="table_cell">
                                    <div class="sprite sprite-dropdown-arrowdown-small2x"></div>
                                </div>
                            </div>
                        </div>

                        <div class="dropdown">
                            <!-- NO CATEGORY -->
                            <div class="dropdown_item" ng-repeat="(orderOption, key) in topicComments.orderByOptions">
                                <div class="item_name" ng-click="orderComments(key)">
                                    {{'VIEWS.TOPICS_TOPICID.TXT_COMMENT_ORDER_BY_' + key | uppercase | translate}}
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="blue_button" ng-click="(app.user.loggedIn && app.scrollToAnchor('post_argument_wrap')) || !app.user.loggedIn && app.doShowLogin()" translate="VIEWS.TOPICS_TOPICID.BTN_ADD_ARGUMENT">Add argument</div>

                </div>
            </div>
            <div class="clearer"></div>

            <div class="line lightest_line"></div>
        </div>

        <div class="arguments_content" id="arguments" ng-if="topicComments.rows.length">

            <!-- FIRST COMMENT -->
            <div class="argument_wrap" ng-class="{is_con:comment.type=='con'}" ng-repeat="comment in topicComments.rows | orderBy: topicComments.orderBy">
                <div class="single_argument">
                    <div id="{{comment.id+(comment.edits.length-1)}}" class="argument" ng-class="{edit_argument: comment.showEdit}">
                        <!-- COMMENT HEADER -->
                        <div class="argument_header">
                            <div class="argumentator">
                                <div class="table_cell">
                                    <div cos-dropdown class="classic_dropdown borderless_dropdown">

                                        <div class="dropdown_selection">
                                            <div class="dropdown_text data_item">
                                                {{comment.creator.name}}
                                            </div>

                                            <div class="arrow_holder" ng-if="comment.creator.email">
                                                <div class="table_cell">
                                                    <div class="sprite sprite-dropdown-arrowdown-small2x"></div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="dropdown comment_creator_dropdown" ng-if="comment.creator.email">
                                            <!-- NO CATEGORY -->
                                            <div class="dropdown_item">
                                                <div class="item_name">
                                                    <a ng-href="mailto:{{comment.creator.email}}">{{comment.creator.email}}</a>
                                                </div>
                                                <div class="item_name" ng-if="!!(comment.creator.phoneNumber)">{{comment.creator.phoneNumber}}</div>
                                                <div class="item_name" ng-if="!!(comment.creator.pid)">{{comment.creator.pid}}</div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="line_wrap">
                                <div class="table_cell">
                                    <div class="v_line"></div>
                                </div>
                            </div>
                            <div class="argument_header_widget">
                                <div class="table_cell" ng-attr-title="{{comment.createdAt | amDateFormat : 'L LT'}}">
                                    {{comment.createdAt | amTimeAgo}}
                                </div>
                            </div>
                            <div ng-if="comment.isEdited()" class="line_wrap">
                                <div class="table_cell">
                                    <div class="v_line"></div>
                                </div>
                            </div>
                            <div ng-if="comment.isEdited()" class="argument_header_widget underline_link" ng-click="comment.showEdits = !comment.showEdits">
                                <div class="table_cell" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_LNK_VIEW_PREVIOUS_VERSIONS">
                                    View previous versions
                                </div>
                            </div>
                            <div class="line_wrap" ng-if="comment.canEdit()">
                                <div class="table_cell">
                                    <div class="v_line"></div>
                                </div>
                            </div>
                            <div ng-if="comment.canEdit()" class="argument_header_widget underline_link">
                                <div class="table_cell" ng-click="commentEditMode(comment)" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_LNK_EDIT">
                                    Edit
                                </div>
                            </div>
                            <div class="line_wrap" ng-if="comment.canDelete()">
                                <div class="table_cell">
                                    <div class="v_line"></div>
                                </div>
                            </div>
                            <div ng-if="comment.canDelete()" class="argument_header_widget underline_link" ng-click="doShowDeleteComment(comment)">
                                <div class="table_cell" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_LNK_DELETE">
                                    Delete
                                </div>
                            </div>
                            <div class="clearer"></div>
                        </div>
                        <!-- END COMMENT HEADER -->
                        <!-- EDIT COMMENT -->
                        <div class="argument_edit_wrap" ng-if="comment.showEdit"  ng-controller="TopicCommentCreateFormCtrl">
                            <input id="comment_edit_subject" ng-if="comment.showEdit" ng-keyup="commentSubjectLengthCheck(comment, comment.editSubject)" translate translate-attr-placeholder="VIEWS.TOPICS_TOPICID.PLACEHOLDER_EDIT_ARGUMENT_SUBJECT" ng-model="comment.editSubject" class="gray_borders" ng-class="{'error_input': comment.errors.subject}" maxlength="{{maxLengthSubject}}">

                            <label for="comment_edit_subject" class="error_label" ng-if="comment.errors.subject">
                                <div class="table_cell">
                                    <div class="sprite sprite-icon-inputfield-error2x"></div>
                                    <span translate="{{comment.errors.subject}}"></span>
                                </div>
                            </label>

                            <textarea id="comment_edit" ng-if="comment.showEdit" translate translate-attr-placeholder="VIEWS.TOPICS_TOPICID.PLACEHOLDER_EDIT_ARGUMENT_TEXT" class="gray_borders" placeholder="Edit your reply here..." ng-model="comment.editText" ng-keyup="commentTextLengthCheck(comment, comment.editText)" ng-class="{'error_input': comment.errors.text}" maxlength="{{maxLengthText}}"></textarea>

                            <label for="comment_edit" class="error_label" ng-if="comment.errors.text">
                                <div class="table_cell">
                                    <div class="sprite sprite-icon-inputfield-error2x"></div>
                                    <span translate="{{comment.errors.text}}"></span>
                                </div>
                            </label>

                            <div class="argument_footer_with_buttons" ng-if="comment.showEdit">
                                <div class="table_cell">
                                    <div class="blue_button nature_green_button" ng-click="updateComment(comment, COMMENT_TYPES.pro)">
                                        <div class="table_cell" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_EDIT_BTN_POST_AS_PRO">
                                            Post as a pro argument
                                        </div>
                                    </div>
                                </div>
                                <div class="table_cell">
                                    <div class="blue_button pinky_red_button" ng-click="updateComment(comment, COMMENT_TYPES.con)" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_EDIT_BTN_POST_AS_CON">
                                        <div class="table_cell">
                                            Post as a con argument
                                        </div>
                                    </div>
                                </div>
                                <div class="table_cell">
                                    <div class="blue_button blue_white_button" ng-click="commentEditMode(comment)">
                                        <div class="table_cell" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_EDIT_BTN_CANCEL_EDIT">
                                            Cancel edit
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- END EDIT COMMENT -->
                        <!-- COMMENT CONTENT -->
                        <div class="argument_title">
                            <span ng-if="comment.isVisible()">{{comment.subject}}</span>
                        </div>

                        <div class="argument_text_wrap" check-height ng-class="{overheight: offsetHeight > maxTextHeight, read_more: readMore}">
                            <div ng-if="comment.isVisible()" class="argument_text" ng-bind-html="comment.text | linky"></div>
                            <div ng-if="!comment.isVisible()" class="argument_text italic" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_HAS_BEEN_DELETED_BY" translate-values="{userFullName: comment.deletedBy.name}">This comment has been deleted by {{comment.deletedBy.name}}</div>
                            <div class="argument_overlay">
                            </div>
                            <div class="read_more_link" ng-click="$parent.readMore = !$parent.readMore"
                                 translate="{{($parent.readMore) ? 'VIEWS.TOPICS_TOPICID.LNK_COMMENT_CLOSE' : 'VIEWS.TOPICS_TOPICID.LNK_COMMENT_READ_MORE'}}">Read more
                            </div>
                        </div>
                        <!-- END COMMENT CONTENT -->
                        <!-- COMMENT DELETED -->
                        <div class="argument_footer delete_reasons" ng-if="comment.deletedAt">
                            <div class="link_wrap">
                                <div class="table_cell">
                                    <div class="blue_link active_red" ng-click="comment.showDeleteReason = !comment.showDeleteReason" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_WHY">
                                        Why?
                                    </div>
                                    <div class="active_red_triangle_wrap" ng-if="comment.showDeleteReason">
                                        <div class="active_red_triangle">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="line_wrap">
                                <div class="table_cell">
                                    <div class="v_line"></div>
                                </div>
                            </div>
                            <div class="link_wrap">
                                <div class="table_cell">
                                    <div class="blue_link active_red" ng-click="comment.showDeletedComment = !comment.showDeletedComment" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_VIEW_COMMENT_ANYWAY">
                                        View comment anyway
                                    </div>
                                    <div class="active_red_triangle_wrap" ng-if="comment.isVisible() && !comment.showDeleteReason">
                                        <div class="active_red_triangle">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="clearer"></div>
                        </div>

                        <div class="alert_argument" ng-if="comment.showDeleteReason" ng-click="comment.showDeleteReason = !comment.showDeleteReason">
                            <span translate="VIEWS.TOPICS_TOPICID.ARGUMENT_FOUND_INAPPRIOPRIATE_BY" translate-values="{userFullName: comment.deletedBy.name}">This comment was found inappriopriate by <b>{{comment.deletedBy.name}}</b></span><span ng-if="comment.deletedReasonType || comment.deleteReasonText">:</span>
                            <b ng-if="comment.deletedReasonType">{{('TXT_REPORT_TYPES_' + comment.deletedReasonType | uppercase) | translate}}</b><br>
                            <b ng-if="comment.deletedReasonText" class="italic">{{comment.deletedReasonText}}</b>
                            <br>
                            <br>
                            <span translate="VIEWS.TOPICS_TOPICID.ARGUMENT_READ_CODE_OF_CONDUCT">Read our <a class="underlined_link" href="">code of conduct</a> for more information</span>
                        </div>
                        <div class="alert_argument" ng-if="comment.deletedAt && comment.isVisible()">
                            <span class="replys_reply italic"><b>{{comment.subject}}</b></span><br>
                            <span class="italic" ng-click="comment.showDeletedComment = !comment.showDeletedComment" ng-bind-html="comment.text | linky">{{comment.text}}</span>
                        </div>
                        <!-- END COMMENT DELETED-->
                        <!-- COMMENT EDITS -->
                        <div id="{{comment.id + version}}" class="argument" ng-class="{is_con:edit.type=='con', is_pro: edit.type=='pro'}" ng-if="comment.showEdits && comment.isEdited() && !$last" ng-repeat="(version, edit) in comment.edits">
                            <div class="argument_header" ng-attr-title="{{edit.createdAt | amDateFormat : 'L LT'}}">{{edit.createdAt | amTimeAgo}}</div>
                            <div class="argument_title" ng-if="edit.subject">
                                {{edit.subject}}
                            </div>
                            <div class="argument_text_wrap">
                                <div class="argument_text italic" ng-bind-html="edit.text | linky"></div>
                            </div>
                        </div>
                        <!-- END COMMENT EDITS -->
                        <!-- COMMENT FOOTER -->
                        <div class="argument_footer">
                            <div class="link_wrap">
                                <div class="table_cell">
                                    <div class="blue_link black_text" ng-click="comment.showReply=!comment.showReply" translate="VIEWS.TOPICS_TOPICID.LNK_COMMENT_REPLY">
                                        Reply
                                    </div>
                                </div>
                            </div>
                            <div class="line_wrap">
                                <div class="table_cell">
                                    <div class="v_line"></div>
                                </div>
                            </div>
                            <div class="thumbs_up" ng-click="doCommentVote(comment.id, 1)">
                                <div class="table_cell">
                                    <div class="sprite sprite-icon-thumbsup-hover2x">
                                    </div>
                                </div>
                                <div class="table_cell">
                                    {{comment.votes.up.count}}
                                </div>
                            </div>
                            <div class="thumbs_down" ng-click="doCommentVote(comment.id, -1)">
                                <div class="table_cell">
                                    <div class="sprite sprite-icon-thumbsdown-hover2x">
                                    </div>
                                </div>
                                <div class="table_cell">
                                    {{comment.votes.down.count}}
                                </div>
                            </div>
                            <div class="line_wrap">
                                <div class="table_cell">
                                    <div class="v_line"></div>
                                </div>
                            </div>
                            <div class="exclamation" ng-click="doCommentReport(comment)">
                                <div class="table_cell">
                                    <div class="sprite mobile_fix sprite-icon-reportmessage-default2x">
                                    </div>
                                    <div class="sprite desktop_fix sprite-icon-reportmessage-default2x">
                                    </div>
                                </div>
                            </div>
                            <div ng-if="comment.isEdited()" class="line_wrap last_edited_line">
                                <div class="table_cell">
                                    <div class="v_line"></div>
                                </div>
                            </div>
                            <div ng-if="comment.isEdited()" class="argument_footer_widget">
                                <div class="table_cell italic" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_LAST_EDITED" translate-values="{edittime: (comment.edits[(comment.edits.length-1)].createdAt | amTimeAgo)}">
                                    Last edited {{comment.edits[(comment.edits.length-1)].createdAt | amTimeAgo}}
                                </div>
                            </div>
                            <div class="clearer"></div>
                        </div>
                        <!-- END COMMENT FOOTER -->
                    </div>

                    <!-- REPLY TO COMMENT  -->
                    <div class="post_argument_wrap" ng-if="comment.showReply" ng-controller="TopicCommentCreateFormCtrl">
                                                    <textarea id="argument_con_reply_text" ng-model="form.text" class="gray_borders" ng-keyup="commentTextLengthCheck(form, form.editText)"  ng-class="{'error_input': form.errors.text}"
                                                              placeholder="{{'VIEWS.TOPICS_TOPICID.PLACEHOLDER_WRITE_REPLY_HERE' | translate}}" maxlength="{{maxLengthText}}"></textarea>
                        <label for="argument_con_reply_text" class="error_label" ng-if="form.errors.text">
                            <div class="table_cell">
                                <div class="sprite sprite-icon-inputfield-error2x"></div>
                                <span translate="{{form.errors.text}}"></span>
                            </div>
                        </label>
                        <div class="blue_button" cos-disabled="!form.text" ng-click="submitReply(comment.id, (comment.edits.length-1))" translate="VIEWS.TOPICS_TOPICID.BTN_COMMENT_POST_REPLY">Post
                            reply
                        </div>
                        <div class="clearer"></div>
                    </div>
                    <!-- END REPLY TO COMMENT -->
                </div>

                <!-- COMMENT REPLY -->
                <div class="single_argument is_reply" ng-if="comment.replies.rows.length" ng-repeat="reply in comment.replies.rows" ng-click="">
                    <div  id="{{reply.id+(reply.edits.length-1)}}" class="argument" ng-class="{edit_argument: reply.showEdit}">
                        <!-- REPLY HEADER -->
                        <div class="argument_header">
                            <div class="reply_icon sprite sprite-icon-arrow-reply2x">
                            </div>
                            <div class="argumentator">
                                <div class="table_cell">
                                    <div cos-dropdown class="classic_dropdown borderless_dropdown">

                                        <div class="dropdown_selection">
                                            <div class="dropdown_text data_item">
                                                {{reply.creator.name}}
                                            </div>

                                            <div class="arrow_holder" ng-if="reply.creator.email">
                                                <div class="table_cell">
                                                    <div class="sprite sprite-dropdown-arrowdown-small2x"></div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="dropdown comment_creator_dropdown" ng-if="comment.creator.email">
                                            <!-- NO CATEGORY -->
                                            <div class="dropdown_item">
                                                <div class="item_name">
                                                    <a ng-href="mailto:{{comment.creator.email}}">{{reply.creator.email}}</a>
                                                </div>
                                                <div class="item_name" ng-if="!!(reply.creator.phoneNumber)">{{reply.creator.phoneNumber}}</div>
                                                <div class="item_name" ng-if="!!(reply.creator.pid)">{{reply.creator.pid}}</div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="line_wrap">
                                <div class="table_cell">
                                    <div class="v_line"></div>
                                </div>
                            </div>
                            <div class="argument_header_widget">
                                <div class="table_cell" ng-attr-title="{{reply.createdAt | amDateFormat : 'L LT'}}">
                                    {{reply.createdAt | amTimeAgo}}
                                </div>
                            </div>
                            <div ng-if="reply.isEdited()" class="line_wrap">
                                <div class="table_cell">
                                    <div class="v_line"></div>
                                </div>
                            </div>
                            <div ng-if="reply.isEdited()" class="argument_header_widget underline_link" ng-click="reply.showEdits = !reply.showEdits">
                                <div class="table_cell" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_LNK_VIEW_PREVIOUS_VERSIONS">
                                    View previous versions
                                </div>
                            </div>
                            <div ng-if="reply.canEdit()" class="line_wrap">
                                <div class="table_cell">
                                    <div class="v_line"></div>
                                </div>
                            </div>
                            <div ng-if="reply.canEdit()" class="argument_header_widget underline_link">
                                <div class="table_cell" ng-click="commentEditMode(reply)" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_LNK_EDIT">
                                    Edit
                                </div>
                            </div>
                            <div ng-if="reply.canDelete()" class="line_wrap">
                                <div class="table_cell">
                                    <div class="v_line"></div>
                                </div>
                            </div>
                            <div ng-if="reply.canDelete()" class="argument_header_widget underline_link" ng-click="doShowDeleteReply(reply)">
                                <div class="table_cell" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_LNK_DELETE">
                                    Delete
                                </div>
                            </div>
                            <div class="clearer"></div>
                        </div>
                        <!-- END REPLY HEADER -->
                        <!-- REPLY EDIT-->
                        <div class="argument_edit_wrap" ng-if="reply.showEdit" ng-controller="TopicCommentCreateFormCtrl">
                            <textarea id="reply_edit" class="gray_borders" translate translate-attr-placeholder="VIEWS.TOPICS_TOPICID.PLACEHOLDER_EDIT_REPLY" ng-keyup="commentTextLengthCheck(reply, reply.editText)" ng-class="{'error_input': reply.errors.text}" placeholder="Edit your reply here..." ng-model="reply.editText" maxlength="{{maxLengthText}}"></textarea>
                            <label for="reply_edit" class="error_label" ng-if="reply.errors.text">
                                <div class="table_cell">
                                    <div class="sprite sprite-icon-inputfield-error2x"></div>
                                    <span translate="{{reply.errors.text}}"></span>
                                </div>
                            </label>
                            <div ng-if="reply.showEdit" class="argument_footer_with_buttons">
                                <div class="table_cell">
                                    <div class="blue_button" ng-click="updateComment(reply)">
                                        <div class="table_cell" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_BTN_SAVE_EDIT_REPLY">
                                            Save
                                        </div>
                                    </div>
                                </div>
                                <div class="table_cell">
                                    <div class="blue_button blue_white_button" ng-click="commentEditMode(reply)">
                                        <div class="table_cell" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_BTN_CANCEL_EDIT_REPLY">
                                            Cancel
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--END REPLY EDIT-->
                        <!-- REPLY EDITS -->
                        <div id="{{reply.id+(version-1)}}" class="argument" ng-if="reply.showEdits && reply.isEdited() && !$last" ng-repeat="(version, edit) in reply.edits">
                            <div class="argument_header" ng-attr-title="{{edit.createdAt | amDateFormat : 'L LT'}}">{{edit.createdAt | amTimeAgo}}</div>
                            <div class="argument_text_wrap">
                                <div class="argument_text italic" ng-bind-html="edit.text | linky"></div>
                            </div>
                        </div>
                        <!-- END REPLY EDITS -->
                        <div class="argument_text_wrap" ng-class="{overheight:offsetHeight > maxTextHeight, read_more: readMore}" check-height>
                            <div ng-if="!reply.deletedAt && reply.isVisible()" class="argument_text"><span class="replys_reply" ng-click="goToParentComment(comment, reply.parent)">@{{getParentAuthor(comment, reply.parent.id)}}</span></div>
                            <div ng-if="!reply.deletedAt && reply.isVisible()" class="argument_text" ng-bind-html="reply.text | linky"></div>
                            <div ng-if="!reply.isVisible()" class="argument_text italic" >This comment has been deleted by {{reply.deletedBy.name}}</div>
                            <div class="argument_overlay">
                            </div>
                            <div class="read_more_link " ng-click="$parent.readMore = !$parent.readMore"
                                 translate="{{($parent.readMore) ? 'VIEWS.TOPICS_TOPICID.LNK_COMMENT_REPLY_CLOSE' : 'VIEWS.TOPICS_TOPICID.LNK_COMMENT_REPLY_READ_MORE'}}">
                                Read more
                            </div>
                        </div>
                        <!-- REPLY DELETED -->
                        <div class="argument_footer delete_reasons" ng-if="reply.deletedAt">
                            <div class="link_wrap">
                                <div class="table_cell">
                                    <div class="blue_link active_red" ng-click="reply.showDeleteReason = !reply.showDeleteReason" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_WHY">
                                        Why?
                                    </div>
                                    <div class="active_red_triangle_wrap" ng-if="reply.showDeleteReason">
                                        <div class="active_red_triangle">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="line_wrap">
                                <div class="table_cell">
                                    <div class="v_line"></div>
                                </div>
                            </div>
                            <div class="link_wrap">
                                <div class="table_cell">
                                    <div class="blue_link active_red" ng-click="reply.showDeletedComment = !reply.showDeletedComment" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_VIEW_REPLY_ANYWAY">
                                        View comment anyway
                                    </div>
                                    <div class="active_red_triangle_wrap" ng-if="reply.isVisible() && !reply.showDeleteReason">
                                        <div class="active_red_triangle">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="clearer"></div>
                        </div>

                        <div class="alert_argument" ng-if="reply.showDeleteReason" ng-click="reply.showDeleteReason = !reply.showDeleteReason">
                            <span translate="VIEWS.TOPICS_TOPICID.ARGUMENT_REPLY_FOUND_INAPPRIOPRIATE_BY" translate-values="{userFullName: reply.deletedBy.name}">This comment was found inappriopriate by <b>{{reply.deletedBy.name}}</b></span><span ng-if="reply.deletedReasonType || reply.deletedReasonText">:</span>
                            <b ng-if="reply.deletedReasonType">{{('TXT_REPORT_TYPES_' + reply.deletedReasonType | uppercase) | translate}}</b><br>
                            <b class="italic" ng-if="reply.deletedReasonText">{{reply.deletedReasonText}}</b><br>
                            <br>
                            <br>
                            <span translate="VIEWS.TOPICS_TOPICID.ARGUMENT_READ_CODE_OF_CONDUCT">Read our <a class="underlined_link" href="">code of conduct</a> for more information</span>
                        </div>
                        <div class="alert_argument" ng-if="reply.deletedAt && reply.isVisible()">
                            <span class="replys_reply" ng-click="goToParentComment(comment, reply.parent)">@{{getParentAuthor(comment, reply.parent.id)}}</span>
                            <span class="italic" ng-click="reply.showDeletedComment = !reply.showDeletedComment">{{reply.text}}</span>
                        </div>
                        <!-- END REPLY DELETED -->
                        <!-- REPLY FOOTER -->
                        <div class="argument_footer">
                            <div class="link_wrap">
                                <div class="table_cell">
                                    <div class="blue_link black_text" ng-click="reply.showReply = !reply.showReply"
                                         translate="VIEWS.TOPICS_TOPICID.LNK_COMMENT_REPLY_REPLY">Reply
                                    </div>
                                </div>
                            </div>
                            <div class="line_wrap">
                                <div class="table_cell">
                                    <div class="v_line"></div>
                                </div>
                            </div>
                            <div class="thumbs_up" ng-click="doCommentVote(reply.id, 1)">
                                <div class="table_cell">
                                    <div class="sprite sprite-icon-thumbsup-hover2x">
                                    </div>
                                </div>
                                <div class="table_cell">
                                    {{reply.votes.up.count}}
                                </div>
                            </div>
                            <div class="thumbs_down" ng-click="doCommentVote(reply.id, -1)">
                                <div class="table_cell">
                                    <div class="sprite sprite-icon-thumbsdown-hover2x">
                                    </div>
                                </div>
                                <div class="table_cell">
                                    {{reply.votes.down.count}}
                                </div>
                            </div>
                            <div class="line_wrap">
                                <div class="table_cell">
                                    <div class="v_line"></div>
                                </div>
                            </div>
                            <div class="exclamation"  ng-click="doCommentReport(reply)">
                                <div class="table_cell">
                                    <div class="sprite mobile_fix sprite-icon-reportmessage-default2x">
                                    </div>
                                    <div class="sprite desktop_fix sprite-icon-reportmessage-default2x">
                                    </div>
                                </div>
                            </div>
                            <div ng-if="reply.isEdited()" class="line_wrap last_edited_line">
                                <div class="table_cell">
                                    <div class="v_line"></div>
                                </div>
                            </div>
                            <div ng-if="reply.isEdited()" class="argument_footer_widget">
                                <div class="table_cell italic" translate="VIEWS.TOPICS_TOPICID.ARGUMENT_LAST_EDITED" translate-values="{edittime: (reply.edits[(reply.edits.length-1)].createdAt | amTimeAgo)}">
                                    Last edited {{reply.edits[(reply.edits.length-1)].createdAt | amTimeAgo}}
                                </div>
                            </div>
                            <div class="clearer"></div>
                        </div>
                        <!-- REPLY FOOTER -->
                    </div>
                    <!-- REPLY TO REPLY -->
                    <div class="post_argument_wrap" ng-if="reply.showReply" ng-controller="TopicCommentCreateFormCtrl">
                        <div class="post_argument_overlay" ng-if="!app.user.loggedIn">
                            <h3 translate-compile translate="VIEWS.TOPICS_TOPICID.LOG_IN_TO_COMMENT">You need to <div class="blue_link">log in </div> to comment</h3>
                        </div>
                        <form cos-disabled="!app.user.loggedIn" name="argumentReplyForm">
                            <textarea id="argument_pro_reply_text" class="gray_borders" ng-model="form.text" ng-keyup="commentTextLengthCheck(form, form.text)" ng-class="{'error_input': form.errors.text}"
                                      placeholder="{{'VIEWS.TOPICS_TOPICID.PLACEHOLDER_WRITE_REPLY_HERE' | translate}}"
                                      required maxlength="{{maxLengthText}}"></textarea>
                            <label for="argument_pro_reply_text" class="error_label" ng-if="form.errors.text">
                                <div class="table_cell">
                                    <div class="sprite sprite-icon-inputfield-error2x"></div>
                                    <span translate="{{form.errors.text}}"></span>
                                </div>
                            </label>
                            <div class="blue_button" cos-disabled="argumentReplyForm.$invalid" ng-click="submitReply(reply.id, (reply.edits.length-1))"
                                 translate="VIEWS.TOPICS_TOPICID.BTN_COMMENT_REPLY_POST_REPLY">
                                Post reply
                            </div>
                            <div class="clearer"></div>
                        </form>
                    </div>
                    <!-- END REPLY TO REPLY -->
                </div>
            </div>


        </div>

        <div id="post_argument_wrap" class="post_argument_wrap" ng-controller="TopicCommentCreateFormCtrl">
            <div class="post_argument_overlay" ng-if="!app.user.loggedIn">
                <h3 translate-compile translate="VIEWS.TOPICS_TOPICID.LOG_IN_TO_COMMENT">You need to <div class="blue_link">log in </div> to comment</h3>
            </div>
            <form cos-disabled="!app.user.loggedIn" name="argumentForm">
                <div class="line lightest_line" ng-if="topicComments.rows.length"></div>
                <input id="argument_subject" ng-model="form.subject" placeholder="{{'VIEWS.TOPICS_TOPICID.PLACEHOLDER_ADD_SUBJECT_TO_ARGUMENT' | translate}}"
                       class="gray_borders" ng-class="{'error_input': form.errors.subject}" required ng-keyup="commentSubjectLengthCheck(form, form.subject)" maxlength="{{maxLengthSubject}}">
                <label for="argument_subject" class="error_label" ng-if="form.errors.subject">
                    <div class="table_cell">
                        <div class="sprite sprite-icon-inputfield-error2x"></div>
                        <span translate="{{form.errors.subject}}"></span>
                    </div>
                </label>
                <textarea id="argument_text" ng-model="form.text" class="gray_borders"
                          placeholder="{{'VIEWS.TOPICS_TOPICID.PLACEHOLDER_EXPLAIN_YOUR_ARGUMENT' | translate}}" ng-keyup="commentTextLengthCheck(form, form.text)" ng-class="{'error_input': form.errors.text}" maxlength="{{maxLengthText}}"
                          required></textarea>
                <label for="argument_text" class="error_label" ng-if="form.errors.text">
                    <div class="table_cell">
                        <div class="sprite sprite-icon-inputfield-error2x"></div>
                        <span translate="{{form.errors.text}}"></span>
                    </div>
                </label>
                <div class="blue_button nature_green_button" cos-disabled="argumentForm.$invalid" ng-click="submitPro()"
                     translate="VIEWS.TOPICS_TOPICID.BTN_COMMENT_POST_AS_PRO">Post as a pro argument
                </div>
                <div class="blue_button pinky_red_button" cos-disabled="argumentForm.$invalid" ng-click="submitCon()"
                     translate="VIEWS.TOPICS_TOPICID.BTN_COMMENT_POST_AS_CON">Post as a con argument
                </div>
                <div class="clearer"></div>
            </form>
        </div>

    </div>

</div>
